<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>æ•°å­¦ã‚¯ã‚¨ã‚¹ãƒˆ</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

<style>
* { font-family: 'Press Start 2P', monospace; }

body {
  margin: 0;
  padding: 30px;
  background: url('https://assets.clip-studio.com/ja-jp/description/1871098/img/c6ff85e114-004d-f7ba-d30a-ac1e14d894.png')
              no-repeat center center fixed;
  background-size: cover;
}

.window {
  max-width: 600px;
  margin: auto;
  background: rgba(0,0,0,0.8);
  color: #fff;
  padding: 20px;
  border: 4px solid #3b7cff;
  border-radius: 4px;
}

.choice {
  width: 100%;
  margin: 8px 0;
  padding: 12px;
  background: #111;
  border: 2px solid #3b7cff;
  color: #fff;
  cursor: pointer;
}

.choice:hover { background: #222; }

.btn {
  width: 100%;
  margin-top: 20px;
  padding: 12px;
  background: #3b7cff;
  border: 2px solid #fff;
  color: #fff;
  cursor: pointer;
}

.hidden { display: none; }

#message { text-align: center; font-size: 20px; }
</style>
</head>

<body>

<!-- ===== ã‚¿ã‚¤ãƒˆãƒ«ç”»é¢ï¼ˆè¿½åŠ ï¼‰ ===== -->
<div class="window" id="title-area">
  <h1 style="text-align:center;">â–¶ æ•°å­¦ã‚¯ã‚¨ã‚¹ãƒˆ</h1>
  <p style="text-align:center;">
    æ€è€ƒã—ã¦ã€€ç­”ãˆã‚’å°ãå‡ºã—ã¦<br>
    ã‚¯ã‚¨ã‚¹ãƒˆã‚’ ã‚¯ãƒªã‚¢ã›ã‚ˆï¼
  </p>
  <button class="btn" id="start-btn">â–¶ ã‚¹ã‚¿ãƒ¼ãƒˆ</button>
</div>

<!-- ===== ã‚¯ã‚¤ã‚ºç”»é¢ï¼ˆæœ€åˆã¯éè¡¨ç¤ºï¼‰ ===== -->
<div class="window hidden" id="quiz-area">
  <h1>â–¶ æ•°å­¦ã‚¯ã‚¨ã‚¹ãƒˆ</h1>
  <h2 id="question"></h2>
  <button class="choice" id="c1"></button>
  <button class="choice" id="c2"></button>
  <button class="choice" id="c3"></button>
  <button class="choice" id="c4"></button>
</div>

<div class="window hidden" id="result-area">
  <h2 id="message"></h2>
  <p id="explain"></p>
  <button class="btn" id="next-btn">â–¶ ã¤ãã¸</button>
</div>

<div class="window hidden" id="end-area">
  <h1>ğŸ‰ ã‚¯ã‚¨ã‚¹ãƒˆã‚¯ãƒªã‚¢ï¼</h1>
  <p style="text-align:center;">
    ãŠã‚ã§ã¨ã†ï¼<br>
    ã™ã¹ã¦ã® ã‚‚ã‚“ã ã„ ã‚’ ã‹ã„ã‘ã¤ ã—ãŸï¼
  </p>
</div>

<audio id="bgm" src="maou_game_dangeon19.mp3" loop></audio>

<script>
document.addEventListener("DOMContentLoaded", function() {

  const normalBg =
    "https://assets.clip-studio.com/ja-jp/description/1871098/img/c6ff85e114-004d-f7ba-d30a-ac1e14d894.png";

  const correctBg =
    "https://cdn-ak.f.st-hatena.com/images/fotolife/s/shima888shima/20160304/20160304223428.png";

  const wrongBg =
    "https://t4.ftcdn.net/jpg/05/19/23/33/360_F_519233339_txOKdO17Ukj2GilJhCJMWNa4Ku3YJz62.jpg";

  /* ===== BGMè¨­å®š ===== */
  const bgm = document.getElementById("bgm");
  bgm.volume = 0.3;

  document.addEventListener("click", () => {
    if (bgm.paused) bgm.play().catch(() => {});
  }, { once: true });

  function setBackground(url) {
    document.body.style.backgroundImage = `url('${url}')`;
  }

  /* ===== å•é¡Œãƒ‡ãƒ¼ã‚¿ï¼ˆå¤‰æ›´ãªã—ï¼‰ ===== */
  const questions = [
    {
      q: "ã€å•1-1ã€‘æ›²ç·š yï¼xÂ³ï¼4x ä¸Šã®ç‚¹(2ï¼Œ0)ã«ãŠã‘ã‚‹æ¥ç·šã®æ–¹ç¨‹å¼ã‚’æ±‚ã‚ã‚‹ã¨ãã€æœ€åˆã«ã‚„ã‚‹ã“ã¨ã¯ï¼Ÿ",
      choices: [
        "ç‚¹(2ï¼Œ0)ã‚’ yï¼xÂ³ï¼4x ã«ä»£å…¥ã™ã‚‹",
        "yï¼xÂ³ï¼4x ã‚’å¾®åˆ†ã™ã‚‹",
        "yï¼xÂ³ï¼4x ã‚’ç©åˆ†ã™ã‚‹",
        "ã‚ãã‚‰ã‚ã‚‹"
      ],
      answer: 1,
      explain: "æ¥ç·šã®æ–¹ç¨‹å¼ã«ã¯å‚¾ããŒå¿…è¦ãªã®ã§ã€ã¾ãšé–¢æ•°ã‚’å¾®åˆ†ã—ã¦å‚¾ãã‚’æ±‚ã‚ã‚‹ã€‚"
    },
    {
      q: "ã€å•1-2ã€‘ãªãœ yï¼xÂ³ï¼4x ã‚’å¾®åˆ†ã™ã‚‹ï¼Ÿ",
      choices: [
        "ç›´ç·šã®æ–¹ç¨‹å¼ã®å‚¾ãã‚’æ±‚ã‚ãŸã„ã‹ã‚‰",
        "ãªã‚“ã¨ãªã",
        "äºŒæ¬¡é–¢æ•°ã«å¸°ç€ã•ã›ãŸã„ã‹ã‚‰",
        "å¢—æ¸›è¡¨ã‚’æ›¸ããŸã„ã‹ã‚‰"
      ],
      answer: 0,
      explain: "æ¥ç·šã¯ç›´ç·šãªã®ã§ã€ãã®å‚¾ããŒå¿…è¦ã§ã‚ã‚Šã€å‚¾ãã¯å¾®åˆ†ã§æ±‚ã‚ã‚‰ã‚Œã‚‹ã€‚"
    },
    {
      q: "ã€å•2-1ã€‘ä¸€æ¬¡ä¸å®šæ–¹ç¨‹å¼ 3xï¼‹5yï¼1 ã‚’è§£ãã¨ãã®åŸºæœ¬çš„ãªè€ƒãˆæ–¹ã¨ã—ã¦æ­£ã—ã„ã‚‚ã®ã¯ã©ã‚Œï¼Ÿ",
      choices: [
        "x ã¨ y ã‚’åŒæ™‚ã«1ã¤ãšã¤æ±ºã‚ã¦ä»£å…¥ã™ã‚‹",
        "x ã¾ãŸã¯ y ã®ã©ã¡ã‚‰ã‹ä¸€æ–¹ã«å€¤ã‚’æ±ºã‚ã¦ã€ã‚‚ã†ä¸€æ–¹ã‚’æ±‚ã‚ã‚‹",
        "xï¼y ã¨ãŠã„ã¦è§£ã",
        "æœªçŸ¥æ•°ãŒ2ã¤ã‚ã‚‹ã®ã§è§£ã‘ãªã„"
      ],
      answer: 1,
      explain: "ä¸€æ¬¡ä¸å®šæ–¹ç¨‹å¼ã§ã¯ã€ã©ã¡ã‚‰ã‹ä¸€æ–¹ã«å€¤ã‚’æ±ºã‚ã‚‹ã“ã¨ã§ã€ã‚‚ã†ä¸€æ–¹ãŒå®šã¾ã‚‹ã€‚"
    },
    {
      q: "ã€å•2-2ã€‘ä¸€æ¬¡ä¸å®šæ–¹ç¨‹å¼ 3xï¼‹5yï¼1 ã®ã™ã¹ã¦ã®æ•´æ•°è§£ã‚’æ­£ã—ãè¡¨ã—ã¦ã„ã‚‹ã‚‚ã®ã¯ã©ã‚Œï¼Ÿ",
      choices: [
        "xï¼2ï¼‹5tï¼Œyï¼âˆ’1âˆ’3tï¼ˆtã¯æ•´æ•°ï¼‰",
        "xï¼2âˆ’5tï¼Œyï¼âˆ’1ï¼‹3tï¼ˆtã¯æ•´æ•°ï¼‰",
        "xï¼5tï¼Œyï¼1âˆ’3tï¼ˆtã¯æ•´æ•°ï¼‰",
        "(xï¼Œy)ï¼(2ï¼Œâˆ’1) ã®ã¿"
      ],
      answer: 0,
      explain: "ä¸€ã¤ã®æ•´æ•°è§£ (2ï¼Œâˆ’1) ã‚’åŸºã«ã™ã‚‹ã¨ã€xï¼2ï¼‹5tï¼Œyï¼âˆ’1âˆ’3tï¼ˆtã¯æ•´æ•°ï¼‰ãŒã™ã¹ã¦ã®æ•´æ•°è§£ã‚’è¡¨ã™ã€‚"
    }
  ];

  let current = 0;

  const titleArea = document.getElementById("title-area");
  const qArea = document.getElementById("quiz-area");
  const resultArea = document.getElementById("result-area");
  const endArea = document.getElementById("end-area");

  const qText = document.getElementById("question");
  const btns = [
    document.getElementById("c1"),
    document.getElementById("c2"),
    document.getElementById("c3"),
    document.getElementById("c4")
  ];

  const msg = document.getElementById("message");
  const explain = document.getElementById("explain");
  const nextBtn = document.getElementById("next-btn");
  const startBtn = document.getElementById("start-btn");

  function loadQuestion() {
    const q = questions[current];
    qText.textContent = q.q;
    btns.forEach((btn, i) => {
      btn.textContent = q.choices[i];
      btn.onclick = () => selectAnswer(i);
    });
  }

  function selectAnswer(i) {
    const q = questions[current];
    qArea.classList.add("hidden");
    resultArea.classList.remove("hidden");

    if (i === q.answer) {
      msg.textContent = "ã‚„ã‚‹ã˜ã‚ƒãªã„ã‹ï¼";
      setBackground(correctBg);
    } else {
      msg.textContent = "âŒ Game overã€€ã¾ã ã¾ã ã ãª";
      setBackground(wrongBg);
    }

    explain.textContent = q.explain;

    nextBtn.onclick = () => {
      current++;
      setBackground(normalBg);
      if (current < questions.length) {
        resultArea.classList.add("hidden");
        qArea.classList.remove("hidden");
        loadQuestion();
      } else {
        resultArea.classList.add("hidden");
        endArea.classList.remove("hidden");
      }
    };
  }

  /* ===== ã‚¹ã‚¿ãƒ¼ãƒˆå‡¦ç†ï¼ˆè¿½åŠ ï¼‰ ===== */
  startBtn.onclick = () => {
    titleArea.classList.add("hidden");
    qArea.classList.remove("hidden");
    loadQuestion();
  };

  /* ===== åˆæœŸåŒ– ===== */
  setBackground(normalBg);
});
</script>

</body>
</html>

